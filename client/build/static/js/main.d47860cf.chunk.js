(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){e.exports=a(244)},113:function(e,t,a){},244:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(48),c=(a(113),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function o(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=a(11),i=a(271),u=a(49),m=a.n(u),d=a(28),p=a(98),h={isAuthenticated:!1,user:{}},E=a(68),f=Object(d.c)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return console.log(t.error),Object(E.a)({},e,{message:t.error});case"REMOVE_ERROR":return Object(E.a)({},e,{message:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return{isAuthenticated:!!Object.keys(t.user).length,user:t.user};default:return e}},polls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POLLS":return t.polls;default:return e}},currentPoll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_POLL":return t.poll;default:return e}}}),g=Object(d.e)(f,{error:{message:null}},Object(d.d)(Object(d.a)(p.a))),b=a(12),v=a.n(b),O=a(107),y=a(17),j=function(e){return{type:"ADD_ERROR",error:e}},w=a(54),k=a.n(w),S={setToken:function(e){e?k.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete k.a.defaults.headers.common.Authorization},call:function(){var e=Object(y.a)(v.a.mark(function e(t,a,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a[t]("".concat("http://localhost:4000/api","/").concat(a),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}()},C=function(e){return{type:"SET_CURRENT_USER",user:e}},x=function(e){S.setToken(e)},R=function(){return function(e){localStorage.clear(),x(null),e(C({})),e({type:"REMOVE_ERROR"})}},N=function(e){return{type:"SET_POLLS",polls:e}},A=function(e){return{type:"SET_CURRENT_POLL",poll:e}},T=a(274),_=a(259),P=a(275),V=a(272),z=a(33),F=a(19),D=a(20),L=a(22),M=a(21),U=a(23),q=a(8),B=a(249),I=a(247),W=a(248),H=a(250),G=a(251),Q=a(252),J=a(253),Y=a(254),$=a(255),K=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(L.a)(this,Object(M.a)(t).call(this,e))).state={username:"",password:"",ethAddress:""},a.handleChange=a.handleChange.bind(Object(q.a)(Object(q.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(q.a)(Object(q.a)(a))),a}return Object(U.a)(t,e),Object(D.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this.state,a=t.username,n=t.password,r=t.ethAddress,l=t.email,c=this.props.authType;e.preventDefault(),this.props.authUser(c||"login",{username:a,password:n,ethAddress:r,email:l})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,a,l=this.state,c=l.username,o=l.password,s=l.ethAddress,i=this.props.authType;return"register"===i?(e=r.a.createElement(I.a,{type:"text",value:s,name:"ethAddress",onChange:this.handleChange,autoComplete:"off",className:"form-control validate"}),t=r.a.createElement(W.a,{htmlFor:"ethAddress"},"ETHADDRESS"),a=r.a.createElement(B.a,{className:"text-dark",to:"/login"},"login ?")):(e=null,a=r.a.createElement(B.a,{className:"text-dark",to:"/register"},"register ?")),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"section"}),r.a.createElement(H.a,{className:"bg-secondary",fluid:!0},r.a.createElement(G.a,{className:"rounded shadow p-3 mb-5",style:{backgroundColor:"#008080",border:"5px solid grey",borderRadius:"1px"},color:"faded"},r.a.createElement(Q.a,{onSubmit:this.handleSubmit},r.a.createElement(J.a,null,r.a.createElement(Y.a,{sm:{size:"6",offset:1},md:{size:"6",offset:1},xl:{size:"6",offset:1},xs:{size:"6",offset:1},lg:{size:"6",offset:1}},r.a.createElement($.a,null,r.a.createElement("h1",null,i),r.a.createElement(I.a,{id:"username",type:"text",value:c,name:"username",onChange:this.handleChange,autoComplete:"off",className:"validate form-control"}),r.a.createElement(W.a,{htmlFor:"username"},"USERNAME")))),r.a.createElement(J.a,null,r.a.createElement(Y.a,{sm:{size:"6",offset:1},md:{size:"6",offset:1},xl:{size:"6",offset:1},xs:{size:"6",offset:1},lg:{size:"6",offset:1}},r.a.createElement($.a,null,r.a.createElement(I.a,{id:"password",type:"password",value:o,name:"password",onChange:this.handleChange,className:"form-control validate"}),r.a.createElement(W.a,{htmlFor:"password"},"PASSWORD")))),r.a.createElement(Y.a,{sm:{size:"6",offset:1},md:{size:"6",offset:1},xl:{size:"6",offset:1},xs:{size:"6",offset:1},lg:{size:"6"}},r.a.createElement($.a,null,e,t)),r.a.createElement(Y.a,{sm:{size:"6",offset:1}},r.a.createElement($.a,null,r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Submit")),r.a.createElement("div",{className:"section"}),r.a.createElement($.a,null,r.a.createElement("div",{className:"card-actions"},r.a.createElement(B.a,{className:"text-dark",to:"/"},"Forgot password ?")," ",a)))))))}}]),t}(n.Component),X=Object(s.b)(function(){return{}},{authUser:function(e,t){return function(){var a=Object(y.a)(v.a.mark(function a(n){var r,l,c,o;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.call("post","auth/".concat(e),t);case 3:r=a.sent,l=r.token,c=Object(O.a)(r,["token"]),console.log("Voici le token retourn\xe9 par l'API au niveau du client : ",l),localStorage.setItem("jwtToken",l),S.setToken(l),n(C(c)),n({type:"REMOVE_ERROR"}),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),o=a.t0.response.data,n(j(o.message));case 17:case"end":return a.stop()}},a,null,[[0,13]])}));return function(e){return a.apply(this,arguments)}}()},logout:R})(K),Z=Object(s.b)(function(e){return{error:e.error}})(function(e){var t=e.error;return r.a.createElement(n.Fragment,null," ",t.message&&r.a.createElement("div",{className:"error"},t.message)," ")}),ee=function(e){var t=e.authType;return e.isAuthenticated?r.a.createElement(V.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(Z,null),r.a.createElement(X,{authType:t}))},te=a(100),ae=a(102),ne=Object(P.a)(Object(s.b)(function(e){return{poll:e.currentPoll}},{vote:function(e,t){return function(){var a=Object(y.a)(v.a.mark(function a(n){var r,l;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.call("post","polls/".concat(e),t);case 3:r=a.sent,n(A(r)),n({type:"REMOVE_ERROR"}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),l=a.t0.response.data,n(j(l.message));case 12:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},deletePoll:function(e){return function(){var t=Object(y.a)(v.a.mark(function t(a){var n,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.call("delete","polls/".concat(e));case 3:n=t.sent,a(A(n)),a({type:"REMOVE_ERROR"}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),r=t.t0.response.data,a(j(r.message));case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.poll,a=e.vote,n=e.deletePoll,l=t.options&&t.options.map(function(e){return r.a.createElement(ae.a,{onClick:function(){return a(t._id,{answer:e.option})},key:e._id},e.option)}),c=t.options&&{labels:t.options.map(function(e){return e.option}),datasets:[{label:t.question,backgroundColor:t.options.map(function(e){return"#"+Math.random().toString(16).slice(2,8)}),borderColor:"#323643",data:t.options.map(function(e){return e.votes}),defaultFontColor:"#FFFFFF"}]};return r.a.createElement(H.a,null,r.a.createElement(G.a,null,r.a.createElement(J.a,null,r.a.createElement(Y.a,{sm:"6",lg:"6"},r.a.createElement("div",{className:"card blue-grey darken-1"},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement("span",{className:"card-title"},t.question),r.a.createElement("p",null,"Infos from the smart contract")),r.a.createElement("div",{className:"card-action"},r.a.createElement("ul",null,r.a.createElement("li",null,l),r.a.createElement("li",null,r.a.createElement("button",{className:"button",onClick:function(){return n(t._id)}},"Delete poll")))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col s6 m6"},r.a.createElement("div",{className:"card blue-grey lighten-2"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"Votes"),r.a.createElement("p",null,"Nice graphic of the votes"),t.options&&r.a.createElement(te.a,{data:c}))))))))})),re=a(256),le=a(270),ce=(a(245),a(231),[{src:"images/papillon.jpeg",altText:"Slide 1",caption:"Slide 1",header:"Slide 1 Header"},{src:"images/papillon.jpeg",altText:"Slide 2",caption:"Slide 2",header:"Slide 2 Header"},{src:"images/papillon.jpeg",altText:"Slide 3",caption:"Slide 3",header:"Slide 3 Header"}]),oe=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(L.a)(this,Object(M.a)(t).call(this,e))).state={sorted:[],page:0,pageSize:10,expanded:{},resized:[],filtered:[]},a.handleSelect=a.handleSelect.bind(Object(q.a)(Object(q.a)(a))),a}return Object(U.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleSelect",value:function(e){this.props.history.push("/polls/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.getPolls,t.getUserPolls,t.auth),l=this.props.polls.map(function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.createElement(n.Fragment,{key:t._id},r.a.createElement("tr",{className:""},r.a.createElement("td",null,t.question),r.a.createElement("td",null," voters list inc soon "),r.a.createElement("td",null," Poll status inc soon "),r.a.createElement("td",null," Voted inc soon "),r.a.createElement("td",null," Participation inc soon "),r.a.createElement("td",null,r.a.createElement("button",{className:"btn-small buttons_center z-depth-1",onClick:function(){return e.handleSelect(t._id)}},r.a.createElement("i",{className:"material-icons"},"send")))))});return r.a.createElement("div",null,a.isAuthenticated&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"section"}),r.a.createElement(J.a,null,r.a.createElement(Y.a,null,r.a.createElement("div",{className:"buttons_center"},r.a.createElement(ae.a,{color:"secondary"},r.a.createElement(B.a,{to:"/poll/new"},"New Poll"))),r.a.createElement("br",null))),r.a.createElement("div",{className:"section"}),r.a.createElement("div",{className:"container z-depth-4"},r.a.createElement(re.a,{className:"responsive-table centered z-depth-1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Name "),r.a.createElement("th",null," Voters List "),r.a.createElement("th",null," Poll Status "),r.a.createElement("th",null," voted ? "),r.a.createElement("th",null," Participation "))),r.a.createElement("tbody",null,l)))),!a.isAuthenticated&&r.a.createElement(n.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(le.a,{items:ce}))))}}]),t}(n.Component),se=Object(s.b)(function(e){return{auth:e.auth,polls:e.polls}},{getPolls:function(){return function(){var e=Object(y.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.call("get","polls");case 3:a=e.sent,t(N(a)),t({type:"REMOVE_ERROR"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n=e.t0.response.data,t(j(n.message));case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},getUserPolls:function(){return function(){var e=Object(y.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.call("get","polls/user");case 3:a=e.sent,t(N(a)),t({type:"REMOVE_ERROR"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n=e.t0.response.data,t(j(n.message));case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}})(oe),ie=a(41),ue=a(257),me=a(258);function de(e){if(1!==e.currentStep)return null;var t=e.options.map(function(t,a){return r.a.createElement($.a,{key:a},r.a.createElement(Y.a,{sm:10,lg:10},r.a.createElement("legend",{className:"col-form-label"},"Option N ",a),r.a.createElement(I.a,{type:"text",value:t.option,onChange:function(t){return e.handleAnswer(t,a)}})))});return r.a.createElement(n.Fragment,null,r.a.createElement($.a,{tag:"fieldset",row:!0},r.a.createElement(Y.a,{sm:10,lg:10},r.a.createElement(ue.a,{animated:!0,color:"info",value:25},"Poll Creation 25%"),r.a.createElement("legend",{className:"col-form-label"},"Poll Question"),r.a.createElement(I.a,{type:"text",name:"question",value:e.question,onChange:e.handleChange})),r.a.createElement("br",null),t,r.a.createElement("br",null),r.a.createElement(ae.a,{className:"offset-1",type:"button",onClick:e.addAnswer},"Add options")),r.a.createElement($.a,{row:!0},r.a.createElement(Y.a,{sm:10,lg:10},r.a.createElement(W.a,{for:"openingDate"},"Opening"),r.a.createElement(I.a,{type:"date",name:"openingDate",id:"openingDate",placeholder:"Opening Date"}))),r.a.createElement($.a,{row:!0},r.a.createElement(Y.a,{sm:10,lg:10},r.a.createElement(I.a,{type:"time",name:"openingTime",id:"openingTime",placeholder:"Time placeholder"}))),r.a.createElement($.a,{row:!0},r.a.createElement(Y.a,{sm:10,lg:10},r.a.createElement(W.a,{for:"openingDate"},"Closing"),r.a.createElement(I.a,{type:"date",name:"closingDate",id:"closingDate",placeholder:"closing Date"}))),r.a.createElement($.a,{row:!0},r.a.createElement(Y.a,{sm:10,lg:10},r.a.createElement(I.a,{type:"time",name:"closingTime",id:"closingTime",placeholder:"Closing Time"}))))}function pe(e){if(2!==e.currentStep)return null;var t=e.voters.map(function(t,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement(W.a,null,"voter ",a),r.a.createElement(I.a,{type:"text",value:t,onChange:function(t){return e.handleVoter(t,a)}}))});return r.a.createElement("div",null,r.a.createElement(me.a,null,r.a.createElement(ue.a,{animated:!0,color:"info",value:75},"Poll Creation 75%%")),r.a.createElement($.a,null,t),r.a.createElement(ae.a,{className:"btn btn-primary",type:"button",onClick:e.addVoter},"Add Voter"),r.a.createElement("br",null),r.a.createElement("br",null))}var he=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(L.a)(this,Object(M.a)(t).call(this,e)))._next=function(){var e=a.state.currentStep;e=e>=2?3:e+1,a.setState({currentStep:e})},a._prev=function(){var e=a.state.currentStep;e=e<=1?1:e-1,a.setState({currentStep:e})},a.state={currentStep:1,question:"",options:["",""],voters:["",""]},a.handleChange=a.handleChange.bind(Object(q.a)(Object(q.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(q.a)(Object(q.a)(a))),a.addAnswer=a.addAnswer.bind(Object(q.a)(Object(q.a)(a))),a.handleAnswer=a.handleAnswer.bind(Object(q.a)(Object(q.a)(a))),a.handleVoter=a.handleVoter.bind(Object(q.a)(Object(q.a)(a))),a.addVoter=a.addVoter.bind(Object(q.a)(Object(q.a)(a))),a._prev=a._prev.bind(Object(q.a)(Object(q.a)(a))),a._next=a._next.bind(Object(q.a)(Object(q.a)(a))),a}return Object(U.a)(t,e),Object(D.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"addVoter",value:function(){this.setState({voters:[].concat(Object(ie.a)(this.state.voters),[""])})}},{key:"addAnswer",value:function(){this.setState({options:[].concat(Object(ie.a)(this.state.options),[""])})}},{key:"handleAnswer",value:function(e,t){var a=Object(ie.a)(this.state.options);a[t]=e.target.value,this.setState({options:a})}},{key:"handleVoter",value:function(e,t){var a=Object(ie.a)(this.state.voters);a[t]=e.target.value,this.setState({voters:a})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.question,n=t.options,r=t.voters;alert("Your registration detail: \n \n    Question: ".concat(a," \n \n    options: ").concat(n," \n\n    Voters: ").concat(r)),this.props.createPoll(this.state),this.props.history.push("/")}},{key:"previousButton",value:function(){return 1!==this.state.currentStep?r.a.createElement("button",{className:"btn btn-primary float-left",type:"button",onClick:this._prev},"Previous"):null}},{key:"nextButton",value:function(){return this.state.currentStep<2?r.a.createElement("button",{className:"btn btn-primary float-right",type:"button",onClick:this._next},"Next"):null}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(H.a,null,r.a.createElement(G.a,null,r.a.createElement(Q.a,{onSubmit:this.handleSubmit},r.a.createElement(de,{currentStep:this.state.currentStep,handleChange:this.handleChange,handleAnswer:this.handleAnswer,addAnswer:this.addAnswer,question:this.state.question,options:this.state.options}),r.a.createElement(pe,{currentStep:this.state.currentStep,handleChange:this.handleChange,handleVoter:this.handleVoter,voters:this.state.voters,addVoter:this.addVoter,handleSubmit:this.handleSubmit}),r.a.createElement("br",null),r.a.createElement($.a,null,this.previousButton(),this.nextButton()),r.a.createElement("br",null),r.a.createElement("br",null),2==this.state.currentStep&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-success btn-block",onClick:this.handleSubmit},"Submit"))))),r.a.createElement(H.a,null))}}]),t}(n.Component),Ee=Object(P.a)(Object(s.b)(function(){return{}},{createPoll:function(e){return function(){var t=Object(y.a)(v.a.mark(function t(a){var n,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.call("post","polls",e);case 3:n=t.sent,a(A(n)),a({type:"REMOVE_ERROR"}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),r=t.t0.response.data,a(j(r.message));case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}})(he));if(localStorage.jwtToken){x(localStorage.jwtToken);try{g.dispatch(C(m()(localStorage.jwtToken)))}catch(De){g.dispatch(C({})),g.dispatch(j(De))}}var fe=Object(P.a)(function(e){return r.a.createElement(s.a,{store:g},r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"UI Test Page"),r.a.createElement("h2",null,"Testing Error Component: "),r.a.createElement(Z,null),r.a.createElement("hr",null),r.a.createElement("h2",null,"Testing Auth Component: "),r.a.createElement(X,null),r.a.createElement("hr",null),r.a.createElement("h2",null,"Testing Create Poll Component: "),r.a.createElement(Ee,null),r.a.createElement("hr",null),r.a.createElement("h2",null,"Testing Polls Component: "),r.a.createElement(se,e),r.a.createElement("hr",null),r.a.createElement("h2",null,"Testing Poll Component: "),r.a.createElement(ne,null),r.a.createElement("hr",null),r.a.createElement("h2",null,"Testing Drizzle contract Component: "),r.a.createElement("hr",null)))}),ge=function(e){return r.a.createElement("div",null,r.a.createElement(se,e),r.a.createElement(Z,null))},be=function(e){var t=e.match;return(0,e.getPoll)(t.params.id),r.a.createElement("div",null,r.a.createElement(Z,null),r.a.createElement(ne,null))},ve=function(e){return e.isAuthenticated?r.a.createElement("div",null,r.a.createElement(Z,null),r.a.createElement(Ee,null)):r.a.createElement(V.a,{to:"/login"})},Oe=Object(P.a)(Object(s.b)(function(e){return{auth:e.auth}},{getCurrentPoll:function(e){return function(){var t=Object(y.a)(v.a.mark(function t(a){var n,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.call("get","polls/".concat(e));case 3:n=t.sent,a(A(n)),a({type:"REMOVE_ERROR"}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),r=t.t0.response.data,a(j(r));case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.auth,a=e.getCurrentPoll;return r.a.createElement("main",null,r.a.createElement(T.a,null,r.a.createElement(_.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(ge,e)}}),r.a.createElement(_.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(ee,{authType:"login",isAuthenticated:t.isAuthenticated})}}),r.a.createElement(_.a,{exact:!0,path:"/poll/new",render:function(){return r.a.createElement(ve,{isAuthenticated:t.isAuthenticated})}}),r.a.createElement(_.a,{exact:!0,path:"/register",render:function(){return r.a.createElement(ee,{authType:"register",isAuthenticated:t.isAuthenticated})}}),r.a.createElement(_.a,{exact:!0,path:"/polls/:id",render:function(e){return r.a.createElement(be,Object.assign({getPoll:function(e){return a(e)}},e))}}),r.a.createElement(_.a,{exact:!0,path:"/test",render:function(){return r.a.createElement(fe,null)}})))})),ye=a(260),je=a(261),we=a(262),ke=a(263),Se=a(264),Ce=a(273),xe=a(265),Re=a(266),Ne=a(267),Ae=a(268),Te=a(269),_e=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(L.a)(this,Object(M.a)(t).call(this,e))).toggle=a.toggle.bind(Object(q.a)(Object(q.a)(a))),a.state={isOpen:!1},a}return Object(U.a)(t,e),Object(D.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,l=t.logout;return r.a.createElement("div",null,a.isAuthenticated&&r.a.createElement(ye.a,{style:{backgroundColor:"#008080",border:"3px solid grey",borderRadius:"2px"},color:"faded",light:!0,expand:"sm"},r.a.createElement(je.a,null,r.a.createElement(ae.a,{onClick:function(){e.props.history.push("/")}},"Home")),r.a.createElement(we.a,{onClick:this.toggle}),r.a.createElement(ke.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(Se.a,{className:"ml-auto",navbar:!0},r.a.createElement(Ce.a,{nav:!0,inNavbar:!0,className:"float-right"},r.a.createElement(xe.a,{nav:!0,caret:!0},"Options"),r.a.createElement(Re.a,{right:!0},r.a.createElement(Ne.a,null,"Option 1"),r.a.createElement(Ne.a,null,"Option 2"),r.a.createElement(Ne.a,{divider:!0}),r.a.createElement(Ne.a,null,"Reset"))),a.isAuthenticated&&r.a.createElement(n.Fragment,null,r.a.createElement(Ae.a,{className:"float-right"},r.a.createElement(ae.a,{onClick:l},"Logout"))),!a.isAuthenticated&&r.a.createElement(n.Fragment,null,r.a.createElement(Ae.a,null,r.a.createElement(Te.a,null,r.a.createElement(ae.a,{className:"float-right",onClick:function(){e.props.history.push("/register")}},"Register"))),r.a.createElement(Ae.a,null,r.a.createElement(Te.a,null,r.a.createElement(ae.a,{className:"float-right",onClick:function(){e.props.history.push("/login")}},"Login"))))))))}}]),t}(r.a.Component),Pe=Object(P.a)(Object(s.b)(function(e){return{auth:e.auth}},{logout:R})(_e)),Ve=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(L.a)(this,Object(M.a)(t).call(this,e))).toggle=a.toggle.bind(Object(q.a)(Object(q.a)(a))),a.state={isOpen:!1},a}return Object(U.a)(t,e),Object(D.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this.props.auth;return r.a.createElement(n.Fragment,null,e.isAuthenticated&&r.a.createElement(G.a,{className:"footer",style:{backgroundColor:"#008080",border:"5px solid grey",borderRadius:"1px"},color:"faded",fluid:!0},r.a.createElement(J.a,null,r.a.createElement(Y.a,{sm:"6",lg:"6"},r.a.createElement("p",{className:"display-5"},"Voting Blockchain App by GFI - \xa9 2019 Copyright")),r.a.createElement(Y.a,{sm:"2",lg:"2"},r.a.createElement(Te.a,{href:"https://github.com/zeley93"},r.a.createElement(ae.a,{color:"secondary"},"Github"))),r.a.createElement(Y.a,{sm:"2",lg:"2"},r.a.createElement(Te.a,{href:"https://www.gfi.world/fr-en/"},r.a.createElement(ae.a,{color:"secondary"},"Gfi"))))))}}]),t}(r.a.Component),ze=Object(s.b)(function(e){return{auth:e.auth}},{})(Ve);if(localStorage.jwtToken){x(localStorage.jwtToken);try{g.dispatch(C(m()(localStorage.jwtToken)))}catch(De){g.dispatch(C({})),g.dispatch(j(De))}}var Fe=function(){return r.a.createElement(s.a,{store:g},r.a.createElement(i.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(Pe,null),r.a.createElement(Oe,null),r.a.createElement(ze,null))))};a(243);Object(l.render)(r.a.createElement(Fe,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");c?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):o(e)})}}()}},[[108,1,2]]]);
//# sourceMappingURL=main.d47860cf.chunk.js.map