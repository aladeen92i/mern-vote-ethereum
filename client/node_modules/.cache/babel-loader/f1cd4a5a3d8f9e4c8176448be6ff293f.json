{"ast":null,"code":"import _regeneratorRuntime from \"/home/xchazema/Desktop/reactApp/mern-vote-moi/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/xchazema/Desktop/reactApp/mern-vote-moi/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nvar host = 'http://localhost:4000/api';\nexport var setToken = function setToken(token) {\n  if (token) {\n    axios.defaults.headers.common['Authorization'] = \"Bearer \".concat(token);\n  } else {\n    delete axios.defaults.headers.common['Authorization'];\n  }\n};\nexport var call =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(method, path, data) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios[method](\"\".concat(host, \"/\").concat(path), data);\n\n          case 2:\n            response = _context.sent;\n            return _context.abrupt(\"return\", response.data);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function call(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport default {\n  setToken: setToken,\n  call: call\n};","map":{"version":3,"sources":["/home/xchazema/Desktop/reactApp/mern-vote-moi/client/src/services/api.js"],"names":["axios","host","setToken","token","defaults","headers","common","call","method","path","data","response"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,IAAI,GAAG,2BAAb;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK,EAAI;AAC/B,MAAIA,KAAJ,EAAW;AACTH,IAAAA,KAAK,CAACI,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,qBAA2DH,KAA3D;AACD,GAFD,MAEO;AACL,WAAOH,KAAK,CAACI,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP;AACD;AACF,CANM;AAQP,OAAO,IAAMC,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAOC,MAAP,EAAeC,IAAf,EAAqBC,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACKV,KAAK,CAACQ,MAAD,CAAL,WAAiBP,IAAjB,cAAyBQ,IAAzB,GAAiCC,IAAjC,CADL;;AAAA;AACZC,YAAAA,QADY;AAAA,6CAEXA,QAAQ,CAACD,IAFE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAJH,IAAI;AAAA;AAAA;AAAA,GAAV;AAKP,eAAe;AAAEL,EAAAA,QAAQ,EAARA,QAAF;AAAYK,EAAAA,IAAI,EAAJA;AAAZ,CAAf","sourcesContent":["import axios from 'axios';\n\nconst host = 'http://localhost:4000/api';\n\nexport const setToken = token => {\n  if (token) {\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  } else {\n    delete axios.defaults.headers.common['Authorization'];\n  }\n};\n\nexport const call = async (method, path, data) => {\n  const response = await axios[method](`${host}/${path}`, data);\n  return response.data;\n};\n\nexport default { setToken, call };"]},"metadata":{},"sourceType":"module"}